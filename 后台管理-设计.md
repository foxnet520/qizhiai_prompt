# ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“æ•´ä½“è®¾è®¡

## ç›®æ ‡ï¼š

æ­å»ºä¸€ä¸ªâ€œæ¨¡åž‹èšåˆè®¿é—®å™¨ + SaaS å¹³å°â€ï¼Œ **AI èšåˆå¯¹è¯æœåŠ¡ + æŽ¥å£å…¥å£ + å•†ç”¨å±‚**ã€‚

## äº§å“æ€è·¯ï¼š

---------

### ðŸ“Œ **æ ¸å¿ƒæž¶æž„**

```
ç”¨æˆ·è¾“å…¥ï¼ˆå‰ç«¯ UI)  
   â†“  
è°ƒç”¨åŽç«¯è°ƒåº¦æœåŠ¡
   â†“  
æ ¹æ®ç­–ç•¥è°ƒç”¨ä¸åŒæ¨¡åž‹ï¼š
   - OpenAI å®˜æ–¹ APIï¼ˆåˆæ³•ä»˜è´¹ï¼‰
   - å¼€æºæ¨¡åž‹ï¼ˆæœ¬åœ°éƒ¨ç½²/è¿œç¨‹ APIï¼‰
   - è‡ªå·±å¯æŽ¥å…¥å…¶ä»–æ¨¡åž‹
   â†“  
è¿”å›žè¾“å‡ºâ†’å‰ç«¯å±•ç¤º
```

### ðŸ“Œ ä»˜è´¹/æƒé™ç­–ç•¥å±‚

- å…è´¹ token æ•°
- æ³¨å†ŒåŽæ›´é«˜é¢åº¦
- ä¼šå‘˜ä»˜è´¹è§£é”æ›´å¤šæ¨¡åž‹

### ðŸ“Œ è‡ªä¸»è¿è¥ç‰¹ç‚¹

- å¤šæ¨¡åž‹å¯¹æ¯”
- åŽ‹åŠ›æµ‹éªŒ
- ç»Ÿä¸€è´¦å•/é™æµç³»ç»Ÿ

------

### ä¸šåŠ¡å®šä½ï¼š

 ðŸŸ¡ â€œå›½å†…å¯è®¿é—®çš„ AI å·¥å…·é›†æˆå¹³å° + ç»Ÿä¸€è´¦å·ç®¡ç† + å¯ç”¨é‡å¯æŽ§ + æ¨¡åž‹å¯¹æ¯”ä¸Žèƒ½åŠ›é€‰æ‹©â€.

### ç›®æ ‡ç”¨æˆ·ï¼š

- åˆ›ä½œè€…ã€å†…å®¹å·¥ä½œè€…
- ä¸­å°ä¼ä¸šï¼ˆå®¢æœ/å®¢æœåŠ©ç†ï¼‰
- ä¸ªäººç”¨æˆ·ï¼ˆå†™ä½œã€ä»£ç ã€èµ„æ–™ç”Ÿæˆï¼‰
- AI å·¥å…·è¯•ç”¨è€…

### ç­–ç•¥å®šä½ï¼š

åšä¸€ä¸ª**â€œAI æ¨¡åž‹èšåˆä¸Žå•†ä¸šä»˜è´¹å¹³å°â€**
 âž¡ ä¸ä¾èµ–ç»•è¿‡ VPN æˆ–è¿è§„é•œåƒ
 âž¡ åˆæ³•æŽ¥å…¥ OpenAI APIã€Anthropicã€Google Geminiã€Claude ç­‰ï¼ˆæŒ‰ API ä»˜è´¹ï¼‰
 âž¡ ç”¨æˆ·ä»˜è´¹ä½¿ç”¨é¢åº¦ã€ä¼šå‘˜åŒ…

### æ ¸å¿ƒäº§å“çº¿ï¼ˆå¯ç›´æŽ¥å˜çŽ°ï¼‰

#### **A)  AI å¯¹è¯åŠ©æ‰‹ï¼ˆæ³›ä»»åŠ¡ç‰ˆï¼‰**

å¯ç”¨äºŽï¼š

- é—®ç­”ã€å†™ä½œè¾…åŠ©
- æ–‡æ¡ˆç”Ÿæˆ
- æ•°æ®åˆ†æžé—®ç­”
- ä»£ç ç”Ÿæˆ
- å­¦ä¹ è¾…åŠ©

**ä»˜è´¹æ¨¡å¼**ï¼š

- å…è´¹é¢åº¦
- åŒ…å¤©/åŒ…æœˆä¼šå‘˜
- æ¬¡æ•°ä»˜è´¹ï¼ˆæ¶ˆè€—å¤šå°‘ä»˜å¤šå°‘ï¼‰

#### **B) å¤šæ¨¡åž‹å¯¹æ¯”å®žéªŒå®¤ï¼ˆä¸“ä¸šç‰ˆï¼‰**

ç”¨æˆ·å¯é€‰æ‹©å¤šä¸ªæ¨¡åž‹ï¼š

- è¾“å…¥åŒä¸€ prompt
- æ¨ªå‘å¯¹æ¯”è¾“å‡º

ä»·å€¼å–ç‚¹ï¼š
 â€œå“ªå®¶æ¨¡åž‹æ›´æ“…é•¿ä½ çš„ä»»åŠ¡ï¼Ÿâ€
 é€‚ç”¨äºŽï¼š

- æ–‡æ¡ˆé€‰é¢˜
- ç­–åˆ’æ¯”è¾ƒ
- åˆ›æ„ä¼˜åŒ–

#### **C) API æŽ¥å…¥æœåŠ¡ï¼ˆä¼ä¸šç‰ˆï¼‰**

å¸®åŠ©ä¼ä¸šï¼š

- å†…éƒ¨è‡ªåŠ¨åŒ–
- æ™ºèƒ½å®¢æœ
- æ™ºèƒ½é—®ç­”çŸ¥è¯†åº“

å˜çŽ°æ–¹å¼ï¼š

- é¡¹ç›®åˆ¶æŠ¥ä»·
- æœˆåº¦ç»´æŠ¤è´¹

--------

###  æŠ€æœ¯å®žçŽ°ï¼ˆå¯è½åœ°ï¼‰

### ðŸ“Œ **åŽç«¯**

- Node.js / Python Flask / FastAPI
- æŽ¥å…¥ OpenAI SDK / Anthropic SDK / Google Gemini API

### ðŸ“Œ **å‰ç«¯**

- React / Vue
- è¾“å…¥æ¡† + æ¨¡åž‹é€‰æ‹© + ä»˜è´¹é¢åº¦å±•ç¤º

### ðŸ“Œ **å­˜å‚¨ä¸Žæ•°æ®**

- Redis ç¼“å­˜
- MySQL å­˜å‚¨ç”¨æˆ·æ¶ˆè€—ä¸Žä»˜è´¹è®°å½•

### ðŸ“Œ **è®¡è´¹ä¸Žæƒé™ç®¡ç†**

- æŒ‰ token è®¡è´¹
- ä¼šå‘˜æƒé™è§£é”
- å…è´¹é¢åº¦æŽ§åˆ¶

### ðŸ“Œ **éƒ¨ç½²**

- æ”¾åœ¨çŽ°æœ‰é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨ï¼ˆ1å° é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨ESCï¼Œ5Må¸¦å®½ï¼Œ40Gå­˜å‚¨ï¼Œä¸€ä¸ªå›ºå®šIPï¼Œä¸€ä¸ªå·²ç»å¤‡æ¡ˆçš„åŸŸå qizhi520.cnï¼‰
- åå‘ä»£ç† NGINX
- HTTPS + CDN ä¼˜åŒ–

### æ”¶ç›Šæ¨¡åž‹ï¼ˆå®žæˆ˜å¯è¡Œï¼‰

| æ¨¡å¼     | æ”¶è´¹æ–¹å¼      | é¢„æœŸ        | å…³é”®åŠ¨ä½œ         |
| -------- | ------------- | ----------- | ---------------- |
| ä¼šå‘˜åˆ¶   | 10â€“99 å…ƒ/æœˆ   | ç¨³å®šçŽ°é‡‘æµ  | æä¾›æ›´å¤§é…é¢     |
| æŒ‰é‡ä»˜è´¹ | 0.1â€“0.5 å…ƒ/æ¡ | é‡å¤§æ”¶ç›Šé«˜  | è½»é‡ç”¨æˆ·ä»˜è´¹å…¥å£ |
| ä¼ä¸š API | é¡¹ç›®åˆ¶        | 5Kâ€“30K/é¡¹ç›® | åšè‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆ |

------

### è¥é”€ä¸ŽèŽ·å®¢æ–¹æ¡ˆï¼ˆæœ‰è½åœ°æ‰§è¡Œè·¯å¾„ï¼‰

ðŸ“ **1) ç¤¾äº¤å†…å®¹å¼•æµ**
 æŠ–éŸ³/å°çº¢ä¹¦ï¼š

- AI ç”Ÿæˆæ¡ˆä¾‹å±•ç¤º
- æ¨¡åž‹å¯¹æ¯”å®žæµ‹
- æçº²å†™ä½œè§†é¢‘

ðŸ“ **2) å¾®ä¿¡ç§åŸŸ + ç¤¾ç¾¤**
 ä»‹ç»ä¼šå‘˜æƒç›Šã€å…è´¹å·¥å…·å…¥å£ã€ç”¨æˆ·ä½“éªŒåé¦ˆ

ðŸ“ **3) å…¬ä¼—å·/SEO**

ðŸ“ **4) åˆä½œæ¸ é“**
 ä¸Žæ•™è‚²/å†…å®¹å†™ä½œ/ç”µå•†è¿è¥ç­‰æœºæž„åˆä½œæŽ¨å¹¿

### âš ï¸ åˆæ³•åˆè§„æç¤º

âœ”ï¸ ä¸è¦æœªç»æŽˆæƒåˆ†å‘æˆ–é•œåƒ OpenAI æˆ–å…¶ä»–åŽ‚å•†å†…å®¹
 âœ”ï¸ ä½¿ç”¨åˆæ³• API å¹¶ä»˜è´¹
 âœ”ï¸ éµå®ˆå½“åœ°éšç§ä¸Žæ•°æ®ä¿æŠ¤æ³•å¾‹
 âœ”ï¸ å¦‚æžœæä¾›æœåŠ¡ç»™ä»–äººï¼Œéœ€æ¸…æ™°ç”¨æˆ·æ¡æ¬¾ã€å…è´£åè®®

------

### ðŸ“Œ ç«‹å³å¯æ‰§è¡Œçš„ 7 æ­¥è¡ŒåŠ¨æ–¹æ¡ˆ

1. **æ³¨å†Œå¹¶ç”³è¯·åˆæ³• OpenAI API Key**ï¼ˆä»˜è´¹ï¼‰
2. **åŽç«¯æ¡†æž¶æ­å»º**ï¼ˆFastAPIï¼‰
3. **å‰ç«¯ UI ä¸Šçº¿åŸŸå**ï¼ˆReact + NGINXï¼‰
4. **æ¨¡åž‹è°ƒç”¨å±‚**ï¼ˆå°è£… GPT/Anthropic APIï¼‰
5. **è®¡è´¹ä¸Žæƒé™ç®¡ç†æ’ä»¶**ï¼ˆStripe / å›½å†…æ”¯ä»˜ï¼‰
6. **ä¸Šçº¿ Beta æµ‹è¯• + ç¤¾ç¾¤èŽ·å–é¦–æ‰¹ç”¨æˆ·**
7. **è¿­ä»£ä»˜è´¹åŠŸèƒ½ + ä¼ä¸š API**

----------

## ä¸€ã€æ¨¡æ¿åº“çš„äº§å“å®šä½ï¼ˆéžå¸¸å…³é”®ï¼‰

### 1. æ¨¡æ¿åº“å¦‚ä½•â€œäº§å“åŒ–â€ï¼ˆè€Œä¸æ˜¯ Prompt å †ç Œï¼‰

> ä½ çŽ°åœ¨è¦ç‰¢ç‰¢è®°ä½ä¸€å¥è¯ï¼š
> **æ¨¡æ¿ä¸æ˜¯åŠŸèƒ½ï¼Œæ˜¯å•†å“ã€‚**

#### 2. æ¨¡æ¿åº“ä¸æ˜¯ Prompt é›†åˆï¼Œè€Œæ˜¯ã€ŒAI åº”ç”¨ã€

ä½ å¯¹å¤–çš„è¯´æ³•æ°¸è¿œæ˜¯ï¼š

> âŒã€Œæˆ‘ä»¬æœ‰ 50 ä¸ª Promptã€
> âœ…ã€Œæˆ‘ä»¬å†…ç½® 50 ä¸ª AI åº”ç”¨æ¨¡æ¿ï¼Œå¡«ä¿¡æ¯ç›´æŽ¥å‡ºç»“æžœã€

**æ ¸å¿ƒä»·å€¼**ï¼š

- ç”¨æˆ·ä¸ç”¨å­¦ Prompt
- ç”¨æˆ·ä¸ç”¨æƒ³ç»“æž„
- ç”¨æˆ·åªåšâ€œå¡«ç©ºé¢˜â€

### 1ï¸âƒ£ æ¨¡æ¿åœ¨äº§å“é‡Œçš„çœŸå®žå½¢æ€

âŒ é”™è¯¯åšæ³•

- ä¸€ä¸ª textarea
- ä¸€ä¸ªâ€œç”Ÿæˆâ€æŒ‰é’®
- ä¸€æ®µ Prompt

âœ… æ­£ç¡®åšæ³•ï¼ˆä½ åº”è¯¥åšçš„ï¼‰

- æ¯ä¸ªæ¨¡æ¿ = ä¸€ä¸ª**å°åº”ç”¨**
- ç”¨æˆ·åªçœ‹åˆ°ï¼š**å¡«ä¿¡æ¯ â†’ å‡ºç»“æžœ**
- Prompt æ°¸è¿œåœ¨åŽç«¯ï¼Œæ°¸è¿œä¸æš´éœ²

#### å‰ç«¯ç”¨æˆ·çœ‹åˆ°çš„ç»“æž„

```
ã€æ¨¡æ¿åç§°ã€‘
ç”¨é€”è¯´æ˜Žï¼ˆ1å¥è¯ï¼‰
--------------------------------
[ è¾“å…¥ï¼šä¸»é¢˜ ]
[ è¾“å…¥ï¼šç›®æ ‡äººç¾¤ ]
[ é€‰æ‹©ï¼šé£Žæ ¼ï¼ˆä¸‹æ‹‰ï¼‰ ]
--------------------------------
ã€ç”Ÿæˆç»“æžœã€‘
```

ðŸ‘‰ ç”¨æˆ·æ„ŸçŸ¥çš„æ˜¯ï¼š
 **â€œæˆ‘åœ¨ç”¨ä¸€ä¸ªå·¥å…·â€**ï¼Œè€Œä¸æ˜¯â€œæˆ‘åœ¨ç”¨ AIâ€ã€‚

------

### 2ï¸âƒ£ æ¨¡æ¿çš„ä¸‰ç§ä»·å€¼å±‚çº§ï¼ˆç›´æŽ¥å†³å®šä½ å–å¤šå°‘é’±ï¼‰

#### ðŸŸ¢ L1ï¼šç”Ÿæˆåž‹ï¼ˆå…è´¹/å¼•æµï¼‰

- é€‰é¢˜
- æ ‡é¢˜
- ç®€å•æ–‡æ¡ˆ

ðŸ‘‰ ç›®çš„ï¼šè®©ç”¨æˆ·çˆ½ä¸€æ¬¡

------

#### ðŸŸ¡ L2ï¼šç»“æžœåž‹ï¼ˆ29â€“69 ä¼šå‘˜æ ¸å¿ƒï¼‰

- è„šæœ¬
- æ–¹æ¡ˆ
- è¯æœ¯
- æ±‡æŠ¥

ðŸ‘‰ ç›®çš„ï¼š**å¸®ç”¨æˆ·çœ 1â€“3 å°æ—¶**

------

#### ðŸ”´ L3ï¼šå†³ç­–åž‹ï¼ˆé«˜å®¢å•/ä¼ä¸šï¼‰

- å®šä»·ç­–ç•¥
- è½¬åŒ–æµç¨‹
- è¿è¥æ–¹æ¡ˆ
- SOP

ðŸ‘‰ ç›®çš„ï¼š**å¸®ç”¨æˆ·èµšé’± / å°‘çŠ¯é”™**

ä½ çŽ°åœ¨åšçš„ **50 ä¸ªæ¨¡æ¿**ï¼Œæ˜¯ **L2 + å°‘é‡ L3**ï¼Œè¿™æ˜¯æœ€èµšé’±çš„ç»„åˆã€‚

------

## äºŒã€æ¨¡æ¿å¦‚ä½•ç›´æŽ¥å¸®ä½ èµšé’±ï¼ˆéžå¸¸é‡è¦ï¼‰

### 1ï¸âƒ£ æ¨¡æ¿ = ä»˜è´¹ç†ç”±

- å…è´¹ç”¨æˆ·ï¼šåªèƒ½ç”¨ 5 ä¸ª
- ä»˜è´¹ç”¨æˆ·ï¼šè§£é”â€œè§£å†³å…·ä½“é—®é¢˜â€çš„æ¨¡æ¿

ðŸ‘‰ ç”¨æˆ·ä¹°çš„ä¸æ˜¯ AIï¼Œæ˜¯ï¼š
 **â€œè¿™ä¸ªæ¨¡æ¿æ­£å¥½è§£å†³æˆ‘çŽ°åœ¨çš„é—®é¢˜â€**

------

### 2ï¸âƒ£ æ¨¡æ¿ = æŠ¤åŸŽæ²³

- Prompt ä¸å…¬å¼€
- ç»“æž„ä¸æ–­ä¼˜åŒ–
- ç”¨æˆ·ä¹ æƒ¯åŽä¸ä¼šæ¢å¹³å°

------

### 3ï¸âƒ£ æ¨¡æ¿ = è¿è¥å†…å®¹

ä½ æ¯å¤©çš„å†…å®¹å°±æ˜¯ï¼š

> ç”¨ã€æ¨¡æ¿ Xã€‘
> 1 åˆ†é’Ÿç”Ÿæˆã€ç»“æžœ Yã€‘
> å¯¹æ¯”ä¸ç”¨ AI çš„æ•ˆçŽ‡

-----

### 4ï¸âƒ£ ä½ çŽ°åœ¨å¯ä»¥ç«‹åˆ»æ‰§è¡Œçš„ 7 æ­¥

- å…ˆå®žçŽ° **10 ä¸ªæ¨¡æ¿**ï¼ˆçŸ­è§†é¢‘ + é”€å”® + å·¥ä½œï¼‰
-  ä¸Šçº¿ **æ¨¡æ¿ä¸“å±žå…¥å£**ï¼ˆé¦–é¡µç¬¬ä¸€å±ï¼‰
-  å…è´¹ç”¨æˆ·åªèƒ½ç”¨ **3 æ¬¡æ¨¡æ¿**
-  ç§åŸŸå¼•æµï¼š

> è¯„è®ºâ€œæ¨¡æ¿â€ï¼Œé€ 3 ä¸ª
> â‘¤ ç¤¾ç¾¤æ¯å¤©æ¼”ç¤º 1 ä¸ªæ¨¡æ¿
> â‘¥ 29 å…ƒä¼šå‘˜è§£é”å…¨éƒ¨
> â‘¦ æŒç»­æ–°å¢žæ¨¡æ¿ï¼ˆæ¯å‘¨ 2â€“3 ä¸ªï¼‰

------

## ä¸‰ã€æ¨¡æ¿çš„ã€Œæ ‡å‡†è¾“å‡ºè§„èŒƒã€ï¼ˆå·¥ç¨‹ + å•†ä¸šéƒ½å¾ˆé‡è¦ï¼‰

ä½ ä¸€å®šè¦å¼ºåˆ¶ AI **ç»“æž„åŒ–è¾“å‡º**ï¼Œå¦åˆ™ç”¨æˆ·ä¼šè§‰å¾—â€œä¹±ã€åƒ AIâ€ã€‚

### 1. æ ‡å‡†è¾“å‡ºæ ¼å¼ï¼ˆå¼ºçƒˆå»ºè®®ä½ ç»Ÿä¸€ï¼‰

```text
ã€ä¸€ã€æ ¸å¿ƒç»“è®ºã€‘
ï¼ˆç›´æŽ¥ç»™ç”¨æˆ·èƒ½ç”¨çš„ç»“æžœï¼‰

ã€äºŒã€å…·ä½“å†…å®¹ã€‘
1.
2.
3.

ã€ä¸‰ã€ä½¿ç”¨å»ºè®®ã€‘
- åœºæ™¯
- æ³¨æ„äº‹é¡¹
```

#### ç¤ºä¾‹ï¼šçŸ­è§†é¢‘è„šæœ¬æ¨¡æ¿ï¼ˆè¾“å‡ºè§„èŒƒï¼‰

```text
ã€è§†é¢‘å®šä½ã€‘
ä¸€å¥è¯è¯´æ¸…ä¸»é¢˜ä¸Žäººç¾¤

ã€å£æ’­è„šæœ¬ã€‘
å¼€å¤´ï¼ˆ3ç§’é’©å­ï¼‰ï¼š
ä¸­æ®µï¼ˆç»™ä»·å€¼ï¼‰ï¼š
ç»“å°¾ï¼ˆè¡ŒåŠ¨å·å¬ï¼‰ï¼š

ã€æ‹æ‘„å»ºè®®ã€‘
- åœºæ™¯
- è¯­é€Ÿ
- é•œå¤´
```

ðŸ‘‰ è¿™æ ·ç”¨æˆ·ä¼šè§‰å¾—ï¼š
 **â€œè¿™ä¸æ˜¯èŠå¤©ï¼Œè¿™æ˜¯æˆå“â€**



### 2. æ¨¡æ¿ä¸Žã€Œå¥—é¤å®šä»·ã€çš„å¼ºç»‘å®šï¼ˆä½ å°±é è¿™ä¸ªèµšé’±ï¼‰

#### 1ï¸âƒ£ æ¨¡æ¿ = ä¼šå‘˜å–ç‚¹ï¼ˆéžå¸¸é‡è¦ï¼‰

ä½ è¦åœ¨é¡µé¢ä¸Š**æ˜Žç¡®å†™å‡ºæ¥**ï¼š

**å…è´¹ç”¨æˆ·**

- 5 ä¸ªåŸºç¡€æ¨¡æ¿
- æ¯ä¸ªæ¨¡æ¿æ¯å¤© 1 æ¬¡
- ä¸èƒ½ç”¨â€œé«˜è´¨é‡æ¨¡åž‹â€

**åŸºç¡€ä¼šå‘˜ï¼ˆ29 å…ƒï¼‰**

- 30 ä¸ªæ¨¡æ¿
- ä¸é™æ¬¡æ•°ï¼ˆå—é¢åº¦é™åˆ¶ï¼‰
- å¯å¯¼å‡º

**é«˜çº§ä¼šå‘˜ï¼ˆ69 å…ƒï¼‰**

- 50 ä¸ªæ¨¡æ¿
- é«˜è´¨é‡æ¨¡åž‹
- ä¼˜å…ˆç”Ÿæˆ
- æ–°æ¨¡æ¿æŠ¢å…ˆä½“éªŒ

ðŸ‘‰ **ç”¨æˆ·ä¸æ˜¯ä¸ºâ€œé¢åº¦â€ä»˜è´¹ï¼Œæ˜¯ä¸ºâ€œæ¨¡æ¿è§£é”â€ä»˜è´¹ã€‚**

------

#### 2ï¸âƒ£ æ¨¡æ¿å‡çº§ = ä½ åŽæœŸæ¶¨ä»·çš„ç†ç”±

ä½ ä»¥åŽå¯ä»¥è¿™æ ·æ¶¨ä»·ï¼Œè€Œç”¨æˆ·å‡ ä¹Žä¸åæ„Ÿï¼š

- â€œæ–°å¢ž 10 ä¸ªç”µå•†æ¨¡æ¿â€
- â€œæ–°å¢ž 5 ä¸ªä¼ä¸š SOP æ¨¡æ¿â€
- â€œæ–°å¢ž AI åŽ»å‘³å¢žå¼ºæ¨¡æ¿â€



### 3. æ¨¡æ¿åº“å¦‚ä½•åå‘æŽ¨åŠ¨ä½ çš„èŽ·å®¢ï¼ˆå¢žé•¿æ ¸å¿ƒï¼‰

#### 1ï¸âƒ£ å†…å®¹å³æ¨¡æ¿æ¼”ç¤ºï¼ˆæœ€çœåŠ›ï¼‰

ä½ æ¯å¤©å‘å†…å®¹ï¼Œåªåšä¸€ä»¶äº‹ï¼š

> ç”¨ã€æ¨¡æ¿ Xã€‘
> 30 ç§’ç”Ÿæˆã€ç»“æžœ Yã€‘
> å¯¹æ¯”ä¸ç”¨ AI çš„æ•ˆçŽ‡

#### ç¤ºä¾‹çŸ­è§†é¢‘è„šæœ¬

```
æˆ‘ä»¥å‰å†™ä¸€æ¡æ‹›ç”Ÿæ–‡æ¡ˆè¦2å°æ—¶
çŽ°åœ¨ç”¨æˆ‘è¿™ä¸ªAIæ¨¡æ¿
30ç§’ç›´æŽ¥å‡º3ç‰ˆ
ä½ åªéœ€è¦å¡«3ä¸ªä¿¡æ¯
```

------

#### 2ï¸âƒ£ ç§åŸŸå¼•æµå›ºå®šé’©å­ï¼ˆç…§æŠ„ï¼‰

> è¯„è®ºåŒºæ‰“ã€Œæ¨¡æ¿ã€
> æˆ‘é€ä½  3 ä¸ªæˆ‘æ­£åœ¨ç”¨çš„ AI æ¨¡æ¿
> ç›´æŽ¥èƒ½ç”¨ï¼Œä¸ç”¨å­¦ Prompt

------

#### 3ï¸âƒ£ ç¤¾ç¾¤è¿è¥åªå›´ç»•æ¨¡æ¿ï¼ˆä¸è®²æŠ€æœ¯ï¼‰

æ¯å¤©ä¸€ä¸ªå›ºå®šåŠ¨ä½œï¼š

- ä»Šå¤©ç”¨å“ªä¸ªæ¨¡æ¿
- è§£å†³ä»€ä¹ˆé—®é¢˜
- ç»™å‡ºä¸€ä¸ªçœŸå®žç»“æžœ

ðŸ‘‰ **ç”¨æˆ·ä¼šå½¢æˆä¾èµ–**ã€‚



### 4. æ¨¡æ¿åº“çš„â€œæŠ¤åŸŽæ²³è®¾è®¡â€ï¼ˆé˜²æŠ„ã€é˜²å·ï¼‰

å¾ˆå¤šäººä¼šæŠ„ Promptï¼Œä½†**æŠ„ä¸èµ°ä½ è¿™ä¸‰ç‚¹**ï¼š

#### 1ï¸âƒ£ Prompt åˆ†å±‚

- system roleï¼ˆè§’è‰²ï¼‰
- structureï¼ˆç»“æž„ï¼‰
- rulesï¼ˆè§„åˆ™ï¼‰
- styleï¼ˆé£Žæ ¼ï¼‰

ðŸ‘‰ å•æ¡ Prompt è¶… 300â€“600 å­—ï¼Œä¸”æŒç»­è¿­ä»£ã€‚

------

#### 2ï¸âƒ£ æ¨¡æ¿ç»„åˆ

- ä¸€ä¸ªç»“æžœ = å¤šè½®å†…éƒ¨ Prompt
- ç”¨æˆ·æ°¸è¿œåªçœ‹åˆ°æœ€ç»ˆè¾“å‡º

------

#### 3ï¸âƒ£ ç”¨æˆ·ä¹ æƒ¯

- å¡«ç©ºå¼
- å›ºå®šç»“æž„
- å¯¼å‡ºå³ç”¨

ðŸ‘‰ **ä¹ æƒ¯æ¯”æŠ€æœ¯æ›´éš¾è¢«å¤åˆ¶ã€‚**



### 5. çŽ°åœ¨æœ€è¯¥åšçš„ 14 å¤©æ‰§è¡Œæ¸…å•ï¼ˆä¸éœ€è¦å†æ€è€ƒï¼‰

#### ç¬¬ 1â€“3 å¤©

- ä»Ž 50 ä¸ªé‡Œé€‰ **10 ä¸ªæ¨¡æ¿**
- ä¼˜å…ˆï¼šçŸ­è§†é¢‘ / é”€å”® / å·¥ä½œ

#### ç¬¬ 4â€“7 å¤©

- ä¸Šçº¿æ¨¡æ¿é¡µé¢
- å…è´¹ç”¨æˆ·é™åˆ¶ 3 æ¬¡
- ä¼šå‘˜è§£é”

#### ç¬¬ 8â€“14 å¤©

- æ¯å¤©å‘ 2 æ¡æ¨¡æ¿æ¼”ç¤ºå†…å®¹
- å¼•å¯¼ç§åŸŸ
- ç¤¾ç¾¤ 7 å¤©ä¿ƒè½¬åŒ–

ðŸŽ¯ **ç›®æ ‡**ï¼š

> 100 æ³¨å†Œ â†’ 20 ä»˜è´¹ â†’ è·‘é€šç¬¬ä¸€æ³¢çŽ°é‡‘æµ

--------

## å››ã€æ‰€æœ‰ Prompt å¿…é¡»ç»Ÿä¸€éµå®ˆçš„ã€Œå•†ç”¨çº§ Prompt æž¶æž„ã€

å¹³å°é‡Œçš„ **æ¯ä¸€ä¸ªæ¨¡æ¿ Prompt éƒ½æŒ‰è¿™ä¸ª 5 å±‚ç»“æž„æ¥**ï¼Œè¿™æ˜¯**å•†ç”¨å“è´¨ä¸Žé‡Ž Prompt çš„æœ¬è´¨åŒºåˆ«**ã€‚

### âœ… Prompt äº”å±‚ç»“æž„ï¼ˆå¼ºçƒˆå»ºè®®ä½ å›ºåŒ–ï¼‰

> âš ï¸ éžå¸¸é‡è¦ï¼š
> **ä½ å¹³å°é‡Œæ‰€æœ‰æ¨¡æ¿ Prompt å¿…é¡»ç»Ÿä¸€è¿™ä¸€ç»“æž„**ï¼Œè¿™æ˜¯ä½ äº§å“ä¸“ä¸šåº¦çš„æ ¹åŸºã€‚

```text
ã€SYSTEM è§’è‰²å±‚ã€‘è§’è‰²ä¸Žä¸“ä¸šè¾¹ç•Œ
ã€TASK ä»»åŠ¡å±‚ã€‘æ˜Žç¡®äº¤ä»˜ç›®æ ‡
ã€INPUT å˜é‡å±‚ã€‘ç”¨æˆ·å˜é‡
ã€RULE è§„åˆ™å±‚ã€‘å¼ºçº¦æŸè§„åˆ™
ã€OUTPUT è¾“å‡ºè§„èŒƒå±‚ã€‘ç»“æž„åŒ–è¾“å‡ºè§„èŒƒ
```

ä½ **æ°¸è¿œä¸è¦**åªå†™ä¸€å¥ Promptã€‚

------

#### â‘  SYSTEMï¼ˆè§’è‰²å±‚ï¼‰

ä½œç”¨ï¼š**è®©æ¨¡åž‹è¿›å…¥ç¨³å®šä¸“ä¸šçŠ¶æ€**

**ç¤ºä¾‹æ¨¡æ¿**

```text
ä½ æ˜¯ä¸€åæ‹¥æœ‰10å¹´ä»¥ä¸Šç»éªŒçš„ã€çŸ­è§†é¢‘ç¼–å¯¼/é”€å”®æ€»ç›‘/èµ„æ·±è¿è¥/æ•™ç ”ä¸“å®¶ã€‘ï¼Œ
ç†Ÿæ‚‰ã€å¹³å°/è¡Œä¸š/äººç¾¤ã€‘ï¼Œ
æ“…é•¿å°†å¤æ‚é—®é¢˜æ‹†è§£ä¸ºå¯ç›´æŽ¥æ‰§è¡Œçš„æ–¹æ¡ˆã€‚
```

------

#### â‘¡ TASKï¼ˆä»»åŠ¡å±‚ï¼‰

ä½œç”¨ï¼š**å‘Šè¯‰æ¨¡åž‹ä½ è¦â€œå¹²ä»€ä¹ˆç»“æžœâ€ï¼Œä¸æ˜¯â€œèŠä»€ä¹ˆâ€**

```text
ä½ çš„ä»»åŠ¡æ˜¯ï¼šæ ¹æ®ç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€ä»½ã€å¯ç›´æŽ¥ä½¿ç”¨çš„å®Œæ•´æˆæžœã€‘ï¼Œè€Œä¸æ˜¯è§£é‡Šè¿‡ç¨‹ã€‚
```

------

#### â‘¢ INPUTï¼ˆå˜é‡å±‚ï¼‰

ä½œç”¨ï¼š**æŠŠç”¨æˆ·è¾“å…¥ç²¾å‡†åµŒè¿›åŽ»**

```text
ç”¨æˆ·è¾“å…¥ä¿¡æ¯å¦‚ä¸‹ï¼š
- ä¸»é¢˜ï¼š{{topic}}
- ç›®æ ‡äººç¾¤ï¼š{{audience}}
- é£Žæ ¼åå¥½ï¼š{{style}}
```

------

#### â‘£ RULEï¼ˆè§„åˆ™å±‚ï¼‰ã€å•†ç”¨æœ€å…³é”®ã€‘

ä½œç”¨ï¼š**é˜²è·‘åã€é˜²åºŸè¯ã€é˜² AI å‘³**

```text
å¿…é¡»éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š
1. ä¸è¦è§£é‡Šä½ åœ¨åšä»€ä¹ˆ
2. ä¸è¦å‡ºçŽ°â€œä½œä¸ºAIâ€â€œå»ºè®®ä½ â€ç­‰è¡¨è¿°
3. è¯­è¨€è‡ªç„¶ã€å£è¯­åŒ–ã€åƒçœŸäºº
4. è¾“å‡ºå¿…é¡»å…·ä½“ï¼Œå¯ç›´æŽ¥ä½¿ç”¨
5. ä¸å…è®¸è¾“å‡ºå¤šä½™æ€»ç»“
```

------

#### â‘¤ OUTPUTï¼ˆè¾“å‡ºè§„èŒƒå±‚ï¼‰

ä½œç”¨ï¼š**è®©ç»“æžœåƒâ€œäº§å“äº¤ä»˜ä»¶â€**

```text
è¯·ä¸¥æ ¼æŒ‰ä»¥ä¸‹ç»“æž„è¾“å‡ºï¼š

ã€ä¸€ã€æ ¸å¿ƒç»“æžœã€‘
â€¦â€¦

ã€äºŒã€å…·ä½“å†…å®¹ã€‘
1.
2.
3.

ã€ä¸‰ã€ä½¿ç”¨è¯´æ˜Žã€‘
â€¦â€¦
```

-------------

## äº”ã€æ¨¡æ¿åº“æŠ€æœ¯ç»“æž„è®¾è®¡ï¼ˆå·¥ç¨‹å¯ç›´æŽ¥ç”¨ï¼‰

### 1ï¸âƒ£ æ¨¡æ¿æ•°æ®ç»“æž„ï¼ˆæ•°æ®åº“ / JSONï¼‰

```json
{
  "template_id": "short_video_script_v1",
  "category": "å†…å®¹åˆ›ä½œ",
  "title": "çŸ­è§†é¢‘å£æ’­è„šæœ¬",
  "desc": "30-60ç§’çŸ­è§†é¢‘ï¼Œé€‚åˆæŠ–éŸ³/è§†é¢‘å·",
  "inputs": [
    { "key": "topic", "label": "è§†é¢‘ä¸»é¢˜", "type": "text", "required": true },
    { "key": "audience", "label": "ç›®æ ‡äººç¾¤", "type": "text", "required": true },
    { "key": "style", "label": "é£Žæ ¼", "type": "select", "options": ["ä¸“ä¸š", "æŽ¥åœ°æ°”", "æ•…äº‹åŒ–"] }
  ],
  "prompt": "ä½ æ˜¯ä¸€åçŸ­è§†é¢‘çˆ†æ¬¾ç¼–å‰§ï¼Œè¯·ä¸º{{audience}}ï¼Œå›´ç»•{{topic}}ï¼Œç”¨{{style}}é£Žæ ¼ï¼Œç”Ÿæˆä¸€æ¡30-60ç§’çš„å£æ’­è„šæœ¬ï¼Œè¦æ±‚ï¼šå¼€å¤´3ç§’å¼ºé’©å­ï¼Œä¸­æ®µç»™ä»·å€¼ï¼Œç»“å°¾è¡ŒåŠ¨å·å¬ã€‚",
  "output_format": "è„šæœ¬ç»“æž„åŒ–è¾“å‡º",
  "credit_cost": 2,
  "vip_only": false
}
```

ðŸ‘‰ **é‡ç‚¹**ï¼š

- Prompt æ°¸è¿œåœ¨åŽç«¯
- å‰ç«¯åªæ¸²æŸ“ `inputs`
- æ¨¡æ¿ = ä¸€æ¬¡â€œå®Œæ•´ AI å·¥ä½œæµâ€

------

### 2ï¸âƒ£ æ¨¡æ¿åˆ†çº§ç­–ç•¥ï¼ˆç›´æŽ¥ç”¨äºŽæ”¶è´¹ï¼‰

| ç­‰çº§     | æƒé™                  |
| -------- | --------------------- |
| å…è´¹     | 5â€“8 ä¸ªåŸºç¡€æ¨¡æ¿        |
| åŸºç¡€ä¼šå‘˜ | 30 ä¸ªå¸¸ç”¨æ¨¡æ¿         |
| é«˜çº§ä¼šå‘˜ | å…¨éƒ¨æ¨¡æ¿ + é«˜è´¨é‡æ¨¡åž‹ |

------

## å…­ã€50 ä¸ªé«˜å˜çŽ° AI æ¨¡æ¿Prompt è®¾è®¡æ–¹æ³•ï¼ˆå®Œæ•´æ¸…å•ï¼‰

#### ç»Ÿä¸€å•†ç”¨ Prompt åŸºåº§ï¼ˆå»ºè®®åœ¨ä»£ç é‡Œåšâ€œå…¬å…±å‰ç¼€ + æ¨¡æ¿å·®å¼‚æ®µâ€ï¼‰

**å…¬å…± RULEï¼ˆæ‰€æœ‰æ¨¡æ¿é€šç”¨ï¼‰**â€”â€”å»ºè®®åŽç«¯æ‹¼æŽ¥æ—¶å›ºå®šåŠ ä¸Šï¼š

```text
ã€é€šç”¨è§„åˆ™ã€‘
- ç›´æŽ¥ç»™å¯ç”¨ç»“æžœï¼Œä¸è§£é‡ŠæŽ¨ç†è¿‡ç¨‹
- ç¦æ­¢å‡ºçŽ°â€œä½œä¸ºAI/æˆ‘å»ºè®®/å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©â€ç­‰AIè…”
- è¾“å‡ºå…·ä½“ã€å¯æ‰§è¡Œã€å¯å¤åˆ¶ç²˜è´´
- è¯­è¨€è‡ªç„¶ã€ç¬¦åˆä¸­æ–‡ä¹ æƒ¯
- ä¸è¾“å‡ºä¸Žä»»åŠ¡æ— å…³çš„å†…å®¹
```

> ä»¥ä¸‹æ¯ä¸ªæ¨¡æ¿åªå†™â€œæ¨¡æ¿å·®å¼‚æ®µâ€ï¼Œå¯ä»¥ç›´æŽ¥æ•´æ®µå­˜åº“ï¼ˆåŒ…å«YSTEM/TASK/INPUT/RULE/OUTPUTï¼‰ã€‚



------

# ç¬¬äºŒéƒ¨åˆ†ï¼šæ¨¡æ¿åŽå°è®¾è®¡ï¼ˆå·¥ç¨‹çº§ï¼Œå¯ç›´æŽ¥å¼€å‘ï¼‰

> ç›®æ ‡ï¼š
>
> - **è¿è¥äººå‘˜ä¸ç”¨æ”¹ä»£ç ä¹Ÿèƒ½åŠ æ¨¡æ¿**
> - ä¸æ”¹ä»£ç ä¹Ÿèƒ½åŠ æ¨¡æ¿ï¼ŒPrompt æ°¸ä¸æ³„éœ²ï¼Œæ¨¡æ¿æœ¬èº«å¯å˜çŽ°
> - æ¨¡æ¿å¯ä»¥åˆ†çº§ã€ä¸‹çº¿ã€è°ƒæ•´ä»·æ ¼
> - Prompt æ°¸è¿œåœ¨åŽå°

------

#### åŽå°è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜

- è¿è¥èƒ½**æ–°å¢ž/æ”¹æ¨¡æ¿**ï¼Œä¸ç”¨æ”¹ä»£ç 
- æ¨¡æ¿å¯**åˆ†çº§ã€å®šä»·ã€ä¸Šä¸‹çº¿ã€ABæµ‹è¯•**
- Prompt æ°¸ä¸æ³„éœ²ï¼ˆç®¡ç†ç«¯å¯è§ï¼Œç”¨æˆ·ç«¯ä¸å¯è§ï¼‰
- èƒ½çœ‹æ•°æ®ï¼š**å“ªä¸ªæ¨¡æ¿æœ€èµšé’±ã€å“ªä¸ªæ¨¡æ¿å¸¦æ¥ä»˜è´¹**

## ä¸€ã€æ¨¡æ¿åŽå°åŠŸèƒ½ç»“æž„

```
æ¨¡æ¿åŽå°
â”œâ”€â”€ æ¨¡æ¿ç®¡ç†
â”‚   â”œâ”€â”€ æ–°å»º / ç¼–è¾‘
â”‚   â”œâ”€â”€ ä¸Šçº¿ / ä¸‹çº¿
â”‚   â”œâ”€â”€ æƒé™æŽ§åˆ¶
â”‚
â”œâ”€â”€ è¡¨å•é…ç½®
â”‚   â”œâ”€â”€ è¾“å…¥å­—æ®µé…ç½®
â”‚   â”œâ”€â”€ ä¸‹æ‹‰é€‰é¡¹
â”‚
â”œâ”€â”€ Prompt ç®¡ç†
â”‚   â”œâ”€â”€ åŠ å¯†å­˜å‚¨
â”‚   â”œâ”€â”€ ç‰ˆæœ¬æŽ§åˆ¶
â”‚
â”œâ”€â”€ ä½¿ç”¨ç»Ÿè®¡
â”‚   â”œâ”€â”€ è°ƒç”¨æ¬¡æ•°
â”‚   â”œâ”€â”€ è½¬åŒ–æ¥æº
â”‚
â””â”€â”€ æƒé™ä¸Žå¥—é¤
```

------

## äºŒã€æ¨¡æ¿åŽå°æ ¸å¿ƒæ¨¡å—

### 1ï¸âƒ£ æ¨¡æ¿ç®¡ç†ï¼ˆæœ€é‡è¦ï¼‰

**å­—æ®µè®¾è®¡**ï¼ˆæ¨¡æ¿ä¸»è¡¨ `ai_templates`ï¼‰

| å­—æ®µ          | è¯´æ˜Ž                          |
| ------------- | ----------------------------- |
| template_id   | å”¯ä¸€ID                        |
| template_key  | UNIQUE                        |
| title         | æ¨¡æ¿åç§°                      |
| category      | åˆ†ç±»                          |
| description   | æè¿°                          |
| prompt        | å®Œæ•´ Promptï¼ˆåŠ å¯†å­˜å‚¨ï¼‰       |
| input_schema  | JSON è¡¨å•                     |
| output_schema | JSON                          |
| credit_cost   | å•æ¬¡æ¶ˆè€—                      |
| daily_limit   | å¯é€‰ï¼šæ¯æ—¥æ¬¡æ•°é™åˆ¶            |
| vip_level     | æƒé™ç­‰çº§ï¼ˆ0å…è´¹ 1åŸºç¡€ 2é«˜çº§ï¼‰ |
| status        | ä¸Š/ä¸‹çº¿                       |
| sort_order    | è®¢å•æ•°                        |
| created_at    | åˆ›å»ºæ—¶é—´                      |
| updated_at    | æ›´æ–°æ—¶é—´                      |

### 2ï¸âƒ£ è¡¨å•å¯è§†åŒ–é…ç½®ï¼ˆå…³é”®ï¼‰

è¿è¥åœ¨åŽå°é…ç½®ï¼š

#### ç¤ºä¾‹ `input_schema`

```json
[
  { "key": "topic", "label": "ä¸»é¢˜", "type": "text", "required": true },
  { "key": "audience", "label": "ç›®æ ‡äººç¾¤", "type": "text" },
  { "key": "style", "label": "é£Žæ ¼", "type": "select", "options": ["ä¸“ä¸š","å£è¯­","æ•…äº‹åŒ–"] }
]
```

ðŸ‘‰ å‰ç«¯è‡ªåŠ¨æ¸²æŸ“ï¼Œæ— éœ€å†™æ­»é¡µé¢ã€‚

### 3ï¸âƒ£ æƒé™ä¸Žå¥—é¤ç»‘å®š

```text
å…è´¹ç”¨æˆ·ï¼švip_level = 0
åŸºç¡€ä¼šå‘˜ï¼švip_level = 1
é«˜çº§ä¼šå‘˜ï¼švip_level = 2
```

æ¨¡æ¿å¯é…ç½®ï¼š

- ä»…ä¼šå‘˜
- ä»…é«˜çº§ä¼šå‘˜
- é™æ¯æ—¥æ¬¡æ•°

### 4ï¸âƒ£ æ¨¡æ¿ç»Ÿè®¡ï¼ˆä½ èµšé’±é è¿™ä¸ªï¼‰

- ä½¿ç”¨æ¬¡æ•°
- ä»˜è´¹è½¬åŒ–æ¥æºæ¨¡æ¿
- çƒ­åº¦æŽ’è¡Œ
- åºŸå¼ƒæ¨¡æ¿ï¼ˆä½Žä½¿ç”¨ï¼‰

------

## ä¸‰ã€æ¨¡æ¿æ‰§è¡Œæµç¨‹ï¼ˆåŽç«¯é€»è¾‘ï¼‰

```
ç”¨æˆ·ç‚¹å‡»æ¨¡æ¿
â†’ æ ¡éªŒä¼šå‘˜ç­‰çº§
â†’ æ ¡éªŒé¢åº¦
â†’ å¡«è¡¨å•
â†’ åŽç«¯æ‹¼ Prompt
â†’ è°ƒç”¨æ¨¡åž‹
â†’ æ‰£é¢åº¦
â†’ è¿”å›žç»“æž„åŒ–ç»“æžœ
â†’ è®°å½•æ—¥å¿—
```

### è¡¨å•å¯è§†åŒ–é…ç½®ï¼ˆæ ¸å¿ƒï¼‰

#### ç¤ºä¾‹ `input_schema`

```json
[
  { "key": "topic", "label": "ä¸»é¢˜", "type": "text", "required": true },
  { "key": "audience", "label": "ç›®æ ‡äººç¾¤", "type": "text" },
  { "key": "style", "label": "é£Žæ ¼", "type": "select", "options": ["ä¸“ä¸š","å£è¯­","æ•…äº‹åŒ–"] }
]
```

ðŸ‘‰ å‰ç«¯è‡ªåŠ¨æ¸²æŸ“ï¼Œæ— éœ€å†™æ­»é¡µé¢ã€‚

### ä¸ºä»€ä¹ˆè¿™å¥—è®¾è®¡éžå¸¸â€œå€¼é’±â€

1ï¸âƒ£ Prompt æ°¸è¿œä¸æ³„éœ²
2ï¸âƒ£ æ¨¡æ¿å¯æŒç»­å‡çº§
3ï¸âƒ£ å¯æ‹‰å¼€ä¸Žâ€œPrompt ç½‘ç«™â€çš„å·®è·
4ï¸âƒ£ è¿è¥äººå‘˜å³å¯é©±åŠ¨å¢žé•¿
5ï¸âƒ£ ä½ å¯ä»¥å– **â€œæ¨¡æ¿æœ¬èº«â€**
 âœ” è¿è¥èƒ½ç‹¬ç«‹å·¥ä½œ
 âœ” æ¨¡æ¿æœ¬èº«å¯å”®å–
 âœ” æžå¼ºå¤ç”¨æ€§



> **ä½ çŽ°åœ¨åšçš„ä¸æ˜¯â€œAIå·¥å…·â€ï¼Œè€Œæ˜¯â€œAIè§£å†³æ–¹æ¡ˆå•†åº—â€ã€‚**

ä½ å·²ç»å…·å¤‡ï¼š

- äº§å“ âœ”
- æŠ€æœ¯ âœ”
- å•†ä¸šæ¨¡åž‹ âœ”

ä¸‹ä¸€æ­¥ï¼Œåªå‰©ä¸‹ **æ”¾å¤§**ã€‚

#### æœ€å…³é”®çš„ä¸€å¥è¯ï¼ˆä½ ä¸€å®šè¦è®°ä½ï¼‰

> **ä½ ä¸æ˜¯åœ¨å– AIï¼Œä½ æ˜¯åœ¨å–â€œå·²ç»æ›¿ç”¨æˆ·æƒ³å¥½çš„ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆâ€ã€‚**

## å››ã€æ•°æ®è¡¨è®¾è®¡ï¼ˆSQL çº§ï¼‰

### 1ï¼‰æ¨¡æ¿ä¸»è¡¨ `ai_templates`

```
CREATE TABLE ai_templates (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  template_key VARCHAR(64) NOT NULL UNIQUE,
  title VARCHAR(120) NOT NULL,
  category VARCHAR(50) NOT NULL,
  description VARCHAR(255) DEFAULT '',
  prompt TEXT NOT NULL,
  input_schema JSON NOT NULL,
  output_schema JSON NULL,
  credit_cost INT NOT NULL DEFAULT 1,
  vip_level INT NOT NULL DEFAULT 0,      -- 0å…è´¹ 1åŸºç¡€ 2é«˜çº§
  daily_limit INT DEFAULT NULL,          -- å¯é€‰ï¼šæ¯æ—¥æ¬¡æ•°é™åˆ¶
  status TINYINT NOT NULL DEFAULT 1,     -- 1ä¸Šçº¿ 0ä¸‹çº¿
  sort_order INT NOT NULL DEFAULT 0,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL
);
```

### 2ï¼‰æ¨¡æ¿ç‰ˆæœ¬è¡¨ `ai_template_versions`ï¼ˆå¼ºçƒˆå»ºè®®åšï¼‰

```sql
CREATE TABLE ai_template_versions (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  template_id BIGINT NOT NULL,
  version INT NOT NULL,
  prompt TEXT NOT NULL,
  input_schema JSON NOT NULL,
  credit_cost INT NOT NULL,
  vip_level INT NOT NULL,
  status TINYINT NOT NULL DEFAULT 1,
  changelog VARCHAR(255) DEFAULT '',
  created_by BIGINT NULL,
  created_at DATETIME NOT NULL,
  UNIQUE(template_id, version)
);
```

### 3ï¼‰æ¨¡æ¿è°ƒç”¨æ—¥å¿— `ai_template_runs`

```sql
CREATE TABLE ai_template_runs (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id BIGINT NOT NULL,
  template_key VARCHAR(64) NOT NULL,
  model_id VARCHAR(64) NOT NULL,
  input_json JSON NOT NULL,
  output_text MEDIUMTEXT NOT NULL,
  credits_cost INT NOT NULL,
  success TINYINT NOT NULL DEFAULT 1,
  error_msg VARCHAR(255) DEFAULT '',
  created_at DATETIME NOT NULL,
  INDEX(user_id),
  INDEX(template_key),
  INDEX(created_at)
);
```

### 4ï¼‰æ¨¡æ¿è½¬åŒ–å½’å› ï¼ˆå¯é€‰ä½†å¾ˆèµšé’±ï¼‰`ai_conversion_events`

```sql
CREATE TABLE ai_conversion_events (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id BIGINT NOT NULL,
  event_type VARCHAR(32) NOT NULL,   -- view_template, run_template, pay, upgrade
  template_key VARCHAR(64) NULL,
  meta JSON NULL,
  created_at DATETIME NOT NULL,
  INDEX(user_id),
  INDEX(template_key)
);
```

----------

# ç¬¬ä¸‰éƒ¨åˆ†ï¼šåŽå°é¡µé¢å’ŒåŠŸèƒ½è®¾è®¡ï¼ˆè¿è¥å¯ç”¨ï¼‰

## ä¸€ã€åŽå°ä¸»è¦é¡µé¢

### é¡µé¢ 1ï¼šæ¨¡æ¿åˆ—è¡¨

- æœç´¢ï¼štitle / template_key / category
- ç­›é€‰ï¼švip_level / status
- å­—æ®µï¼šæ ‡é¢˜ã€åˆ†ç±»ã€ç­‰çº§ã€å•æ¬¡æ¶ˆè€—ã€çŠ¶æ€ã€è¿‘7å¤©ä½¿ç”¨æ¬¡æ•°ã€è½¬åŒ–çŽ‡ï¼ˆå¯é€‰ï¼‰
- æ“ä½œï¼šç¼–è¾‘ã€å¤åˆ¶ã€ä¸Šä¸‹çº¿ã€æŸ¥çœ‹æ•°æ®ã€ç‰ˆæœ¬åŽ†å²

### é¡µé¢ 2ï¼šæ¨¡æ¿ç¼–è¾‘ï¼ˆæ ¸å¿ƒï¼‰

- åŸºæœ¬ä¿¡æ¯ï¼šæ ‡é¢˜/åˆ†ç±»/æè¿°/æŽ’åº/çŠ¶æ€
- è¡¨å•é…ç½®ï¼šå¯è§†åŒ–ç¼–è¾‘ `input_schema`ï¼ˆå¢žåˆ å­—æ®µã€ç±»åž‹ã€ä¸‹æ‹‰é€‰é¡¹ã€é»˜è®¤å€¼ã€å¿…å¡«ï¼‰
- Prompt ç¼–è¾‘å™¨ï¼šå¤§æ–‡æœ¬æ¡† + å˜é‡æ£€æµ‹ï¼ˆæ£€æµ‹ {{xxx}} æ˜¯å¦éƒ½åœ¨ input_schema ä¸­ï¼‰
- è¾“å‡ºè§„èŒƒï¼ˆå¯é€‰ï¼‰ï¼š`output_schema`ï¼ˆè®©å‰ç«¯èƒ½ä¸€é”®å¤åˆ¶â€œåˆ†æ®µå—â€ï¼‰
- æƒé™ä¸Žå®šä»·ï¼švip_levelã€credit_costã€daily_limit
- ä¿å­˜æ—¶ï¼šè‡ªåŠ¨å†™å…¥ç‰ˆæœ¬è¡¨

### é¡µé¢ 3ï¼šç‰ˆæœ¬ç®¡ç†

- åˆ—å‡ºç‰ˆæœ¬å·ã€changelogã€åˆ›å»ºäººã€åˆ›å»ºæ—¶é—´
- æ”¯æŒï¼šå›žæ»šåˆ°æŸç‰ˆæœ¬ã€å¯¹æ¯”å·®å¼‚ï¼ˆdiffï¼‰

### é¡µé¢ 4ï¼šæ•°æ®çœ‹æ¿

- æ¨¡æ¿çƒ­åº¦Top20ï¼ˆä½¿ç”¨æ¬¡æ•°/äººå‡ä½¿ç”¨/ç•™å­˜ï¼‰
- æ¨¡æ¿å¸¦æ¥çš„ä»˜è´¹è½¬åŒ–Topï¼ˆrunâ†’payï¼‰
- å¤±è´¥çŽ‡/é”™è¯¯çŽ‡Topï¼ˆæŽ’æŸ¥ä¸Šæ¸¸æ¨¡åž‹æˆ–Prompté—®é¢˜ï¼‰
- æˆæœ¬ç›‘æŽ§ï¼šæŒ‰æ¨¡åž‹ç»´åº¦çš„è°ƒç”¨é‡ä¸Žæ¶ˆè€—ï¼ˆåŽæœŸåšç²¾ç¡®tokenï¼‰

## äºŒã€API è®¾è®¡ï¼ˆåŽç«¯ç›´æŽ¥ç…§ç€å†™ï¼‰

### 1. ä¸»è¦APIåŠŸèƒ½

#### 1ï¼‰ç”¨æˆ·ç«¯æ¨¡æ¿ API

- `GET /api/templates`
    - è¿”å›žï¼šæŒ‰æƒé™è¿‡æ»¤åŽçš„æ¨¡æ¿åˆ—è¡¨ï¼ˆå«input_schemaã€credit_costã€vip_levelï¼‰
- `GET /api/templates/{template_key}`
    - è¿”å›žæ¨¡æ¿è¯¦æƒ…ï¼ˆä¸è¿”å›žpromptï¼‰
- `POST /api/templates/{template_key}/run`
    - bodyï¼š`{ model_id, inputs: {...} }`
    - æµç¨‹ï¼šé‰´æƒâ†’æ ¡éªŒvipâ†’æ ¡éªŒé¢åº¦â†’æ‹¼promptâ†’è°ƒç”¨æ¨¡åž‹â†’æ‰£è´¹â†’è½æ—¥å¿—â†’è¿”å›žç»“æž„åŒ–ç»“æžœ

#### 2ï¼‰ç®¡ç†ç«¯ APIï¼ˆåŠ  admin æƒé™ï¼‰

- `POST /api/admin/templates` æ–°å»º
- `PUT /api/admin/templates/{id}` ç¼–è¾‘
- `POST /api/admin/templates/{id}/publish` ä¸Šçº¿
- `POST /api/admin/templates/{id}/unpublish` ä¸‹çº¿
- `GET /api/admin/templates/{id}/versions` ç‰ˆæœ¬åˆ—è¡¨
- `POST /api/admin/templates/{id}/rollback?version=n` å›žæ»š
- `GET /api/admin/metrics/templates` çœ‹æ¿æ•°æ®

## 2. åŸºäºŽFastAPI MVPä¸Šæ‰©å±•å‡ºæ¨¡æ¿ç³»ç»ŸåŽç«¯éª¨æž¶

å¯è·‘ã€å¯è½åº“ã€å¯æ‰©å±•ï¼ŒåŒ…å«ï¼š**æ¨¡æ¿è¡¨ / ç‰ˆæœ¬è¡¨ / è°ƒç”¨æ—¥å¿— / ç”¨æˆ·ç«¯æ¨¡æ¿åˆ—è¡¨&è¿è¡Œ / ç®¡ç†ç«¯CRUD&ä¸Šä¸‹çº¿&ç‰ˆæœ¬å›žæ»š / å˜é‡æ ¡éªŒ / åŸºç¡€Adminé‰´æƒ**ã€‚

> è¯´æ˜Žï¼šä»ç”¨ä½ çŽ°åœ¨çš„ **SQLite + SQLAlchemy**ï¼ŒåŽç»­æ¢ MySQL åŸºæœ¬åªæ”¹ DB_URLã€‚
> ä¸‹é¢æ˜¯â€œç›´æŽ¥å¤åˆ¶ç²˜è´´è¦†ç›–/æ–°å¢žæ–‡ä»¶â€çš„å½¢å¼ã€‚

## 1) æ–°å¢ž/ä¿®æ”¹æ–‡ä»¶ä¸€è§ˆ

```
backend/
  db.py                # ä¸å˜
  settings.py          # å¢žåŠ  ADMIN_KEY
  models.py            # å¢žåŠ  Template/TemplateVersion/TemplateRun/ConversionEvent
  templates.py         # æ–°å¢žï¼šæ¨¡æ¿æ¸²æŸ“/å˜é‡æ ¡éªŒ/å…¬å…±å‡½æ•°
  main.py              # å¢žåŠ æ¨¡æ¿APIä¸Žç®¡ç†ç«¯API
```

### 2) settings.pyï¼ˆæ–°å¢ž ADMIN_KEYï¼‰

```python
# backend/settings.py
import os

JWT_SECRET = os.getenv("JWT_SECRET", "CHANGE_ME_TO_A_LONG_RANDOM_SECRET")
JWT_ALG = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = int(os.getenv("ACCESS_TOKEN_EXPIRE_MINUTES", "10080"))

OPENAI_API_KEY = os.getenv("OPENAI_API_KEY", "")
OPENAI_BASE_URL = os.getenv("OPENAI_BASE_URL", "https://api.openai.com/v1")

DEFAULT_FREE_CREDITS = int(os.getenv("DEFAULT_FREE_CREDITS", "30"))

# NEW: admin key for /api/admin/*
ADMIN_KEY = os.getenv("ADMIN_KEY", "CHANGE_ME_ADMIN_KEY")
```

### 3) models.pyï¼ˆæ–°å¢žè¡¨ï¼‰

```python
# backend/models.py
from sqlalchemy import String, Integer, DateTime, Text, ForeignKey, Boolean
from sqlalchemy.orm import Mapped, mapped_column, relationship
from datetime import datetime
from db import Base

class User(Base):
    __tablename__ = "users"
    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
    email: Mapped[str] = mapped_column(String(255), unique=True, index=True)
    password_hash: Mapped[str] = mapped_column(String(255))
    credits: Mapped[int] = mapped_column(Integer, default=0)
    vip_level: Mapped[int] = mapped_column(Integer, default=0)  # NEW: 0 free, 1 basic, 2 pro
    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)

    chats = relationship("ChatLog", back_populates="user")
    template_runs = relationship("TemplateRun", back_populates="user")


class ChatLog(Base):
    __tablename__ = "chat_logs"
    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
    user_id: Mapped[int] = mapped_column(ForeignKey("users.id"))
    model: Mapped[str] = mapped_column(String(64))
    prompt: Mapped[str] = mapped_column(Text)
    response: Mapped[str] = mapped_column(Text)
    cost_credits: Mapped[int] = mapped_column(Integer, default=0)
    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)

    user = relationship("User", back_populates="chats")


# ---------------------------
# Templates system
# ---------------------------

class Template(Base):
    __tablename__ = "ai_templates"
    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
    template_key: Mapped[str] = mapped_column(String(64), unique=True, index=True)
    title: Mapped[str] = mapped_column(String(120))
    category: Mapped[str] = mapped_column(String(50), index=True)
    description: Mapped[str] = mapped_column(String(255), default="")
    prompt: Mapped[str] = mapped_column(Text)  # keep on server; never send to user
    input_schema: Mapped[str] = mapped_column(Text)  # JSON string for sqlite
    output_schema: Mapped[str] = mapped_column(Text, default="")  # optional JSON string
    credit_cost: Mapped[int] = mapped_column(Integer, default=1)
    vip_level: Mapped[int] = mapped_column(Integer, default=0)  # 0 free, 1 basic, 2 pro
    daily_limit: Mapped[int | None] = mapped_column(Integer, nullable=True)
    status: Mapped[int] = mapped_column(Integer, default=1)  # 1 online, 0 offline
    sort_order: Mapped[int] = mapped_column(Integer, default=0)
    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)
    updated_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)

    versions = relationship("TemplateVersion", back_populates="template")


class TemplateVersion(Base):
    __tablename__ = "ai_template_versions"
    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
    template_id: Mapped[int] = mapped_column(ForeignKey("ai_templates.id"), index=True)
    version: Mapped[int] = mapped_column(Integer)
    prompt: Mapped[str] = mapped_column(Text)
    input_schema: Mapped[str] = mapped_column(Text)
    credit_cost: Mapped[int] = mapped_column(Integer, default=1)
    vip_level: Mapped[int] = mapped_column(Integer, default=0)
    status: Mapped[int] = mapped_column(Integer, default=1)
    changelog: Mapped[str] = mapped_column(String(255), default="")
    created_by: Mapped[int | None] = mapped_column(Integer, nullable=True)
    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)

    template = relationship("Template", back_populates="versions")


class TemplateRun(Base):
    __tablename__ = "ai_template_runs"
    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
    user_id: Mapped[int] = mapped_column(ForeignKey("users.id"), index=True)
    template_key: Mapped[str] = mapped_column(String(64), index=True)
    model_id: Mapped[str] = mapped_column(String(64))
    input_json: Mapped[str] = mapped_column(Text)  # JSON string
    output_text: Mapped[str] = mapped_column(Text)
    credits_cost: Mapped[int] = mapped_column(Integer, default=1)
    success: Mapped[bool] = mapped_column(Boolean, default=True)
    error_msg: Mapped[str] = mapped_column(String(255), default="")
    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)

    user = relationship("User", back_populates="template_runs")


class ConversionEvent(Base):
    __tablename__ = "ai_conversion_events"
    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
    user_id: Mapped[int] = mapped_column(Integer, index=True)
    event_type: Mapped[str] = mapped_column(String(32), index=True)  # view_template/run_template/pay/upgrade
    template_key: Mapped[str | None] = mapped_column(String(64), nullable=True, index=True)
    meta: Mapped[str] = mapped_column(Text, default="")  # JSON string
    created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)
```

### 4) templates.pyï¼ˆæ–°å¢žï¼šå˜é‡æ ¡éªŒ + prompt æ¸²æŸ“ï¼‰

```python
# backend/templates.py
import json
import re
from typing import Any, Dict, List, Tuple

VAR_PATTERN = re.compile(r"\{\{\s*([a-zA-Z0-9_]+)\s*\}\}")

def parse_json(text: str, default: Any):
    try:
        return json.loads(text) if text else default
    except Exception:
        return default

def extract_vars_from_prompt(prompt: str) -> List[str]:
    return sorted(set(VAR_PATTERN.findall(prompt or "")))

def validate_inputs_against_schema(input_schema: List[Dict[str, Any]], inputs: Dict[str, Any]) -> Tuple[bool, str]:
    """
    input_schema item example:
    { "key":"topic", "label":"ä¸»é¢˜", "type":"text", "required":true, "options":[...] }
    """
    schema_keys = {f.get("key") for f in input_schema if isinstance(f, dict)}
    # required check
    for f in input_schema:
        if not isinstance(f, dict):
            continue
        key = f.get("key")
        required = bool(f.get("required"))
        if required and (key not in inputs or inputs.get(key) in (None, "", [])):
            return False, f"Missing required field: {key}"

        # basic select option validation
        if f.get("type") == "select" and key in inputs and "options" in f:
            if inputs[key] not in f["options"]:
                return False, f"Invalid option for {key}"

    # allow extra fields? For safety we can reject unknown fields:
    for k in inputs.keys():
        if k not in schema_keys:
            return False, f"Unknown input field: {k}"

    return True, ""

def validate_prompt_vars(prompt: str, input_schema: List[Dict[str, Any]]) -> Tuple[bool, str]:
    vars_in_prompt = set(extract_vars_from_prompt(prompt))
    schema_keys = set([f.get("key") for f in input_schema if isinstance(f, dict) and f.get("key")])

    missing = vars_in_prompt - schema_keys
    if missing:
        return False, f"Prompt contains vars not in schema: {sorted(missing)}"
    # It's ok if schema has keys not used in prompt.
    return True, ""

def render_prompt(prompt: str, inputs: Dict[str, Any]) -> str:
    # simple safe replacement
    def repl(m):
        key = m.group(1)
        v = inputs.get(key, "")
        if isinstance(v, (dict, list)):
            return json.dumps(v, ensure_ascii=False)
        return str(v)
    return VAR_PATTERN.sub(repl, prompt)
```

### 5) main.pyï¼ˆæ‰©å±•ï¼šæ¨¡æ¿API + ç®¡ç†ç«¯APIï¼‰

æŠŠä¸‹é¢ä»£ç å—æŒ‰æ³¨é‡Šæ’å…¥åˆ°ä½ çŽ°æœ‰ `backend/main.py` ä¸­ï¼ˆæœ€ç®€å•ï¼šç›´æŽ¥ç”¨è¿™ä»½æ›¿æ¢ main.py ç„¶åŽæŠŠä½ åŽŸ chat æŽ¥å£ä¿ç•™/åˆå¹¶ï¼‰ã€‚

```python
# backend/main.py
from fastapi import FastAPI, Depends, HTTPException, Header
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel, EmailStr, Field
from sqlalchemy.orm import Session
from datetime import datetime, timedelta
from jose import jwt, JWTError
from passlib.context import CryptContext
import requests
import math
import json

from db import SessionLocal, engine, Base
from models import User, ChatLog, Template, TemplateVersion, TemplateRun, ConversionEvent
from settings import (
    JWT_SECRET, JWT_ALG, ACCESS_TOKEN_EXPIRE_MINUTES,
    OPENAI_API_KEY, OPENAI_BASE_URL,
    DEFAULT_FREE_CREDITS, ADMIN_KEY
)
from templates import parse_json, validate_inputs_against_schema, validate_prompt_vars, render_prompt

Base.metadata.create_all(bind=engine)

app = FastAPI(title="AI SaaS MVP + Templates")

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # production: replace with your domain
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

pwd = CryptContext(schemes=["bcrypt"], deprecated="auto")

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

def create_access_token(sub: str):
    exp = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)
    return jwt.encode({"sub": sub, "exp": exp}, JWT_SECRET, algorithm=JWT_ALG)

def get_current_user(db: Session, authorization: str = Header(default="")) -> User:
    if not authorization.startswith("Bearer "):
        raise HTTPException(status_code=401, detail="Missing bearer token")
    token = authorization.split(" ", 1)[1]
    try:
        payload = jwt.decode(token, JWT_SECRET, algorithms=[JWT_ALG])
        sub = payload.get("sub")
        if not sub:
            raise HTTPException(status_code=401, detail="Invalid token")
    except JWTError:
        raise HTTPException(status_code=401, detail="Invalid token")

    user = db.query(User).filter(User.email == sub).first()
    if not user:
        raise HTTPException(status_code=401, detail="User not found")
    return user

def require_admin(x_admin_key: str = Header(default="")):
    if x_admin_key != ADMIN_KEY:
        raise HTTPException(status_code=403, detail="Forbidden")
    return True

# --------------- Auth schemas ---------------
class AuthReq(BaseModel):
    email: EmailStr
    password: str

class AuthResp(BaseModel):
    token: str
    credits: int
    vip_level: int

# --------------- Chat schemas (keep your old) ---------------
class ChatReq(BaseModel):
    model: str = "gpt-4o-mini"
    message: str

class ChatResp(BaseModel):
    model: str
    reply: str
    cost_credits: int
    credits_left: int

# --------------- Template schemas ---------------
class TemplateListItem(BaseModel):
    template_key: str
    title: str
    category: str
    description: str
    input_schema: list
    output_schema: dict | None = None
    credit_cost: int
    vip_level: int
    status: int
    sort_order: int

class TemplateDetailResp(BaseModel):
    template_key: str
    title: str
    category: str
    description: str
    input_schema: list
    output_schema: dict | None = None
    credit_cost: int
    vip_level: int
    status: int

class TemplateRunReq(BaseModel):
    model_id: str = "gpt-4o-mini"
    inputs: dict = Field(default_factory=dict)

class TemplateRunResp(BaseModel):
    template_key: str
    model_id: str
    output_text: str
    credits_cost: int
    credits_left: int

# Admin
class AdminTemplateUpsertReq(BaseModel):
    template_key: str
    title: str
    category: str
    description: str = ""
    prompt: str
    input_schema: list
    output_schema: dict | None = None
    credit_cost: int = 1
    vip_level: int = 0
    daily_limit: int | None = None
    status: int = 1
    sort_order: int = 0
    changelog: str = ""

class AdminPublishReq(BaseModel):
    status: int  # 1 online, 0 offline

class AdminRollbackReq(BaseModel):
    version: int

# --- credits estimator for chat ---
def estimate_credits(text_in: str, text_out: str) -> int:
    total_chars = len(text_in) + len(text_out)
    return max(1, math.ceil(total_chars / 1000))

# --- Provider adapter (OpenAI) ---
def call_openai_chat(model: str, message: str) -> str:
    if not OPENAI_API_KEY:
        raise HTTPException(status_code=500, detail="OPENAI_API_KEY not set")
    url = f"{OPENAI_BASE_URL}/chat/completions"
    headers = {"Authorization": f"Bearer {OPENAI_API_KEY}", "Content-Type": "application/json"}
    payload = {
        "model": model,
        "messages": [{"role": "user", "content": message}],
        "temperature": 0.7
    }
    r = requests.post(url, headers=headers, json=payload, timeout=60)
    if r.status_code != 200:
        raise HTTPException(status_code=502, detail=f"Upstream error: {r.text[:300]}")
    data = r.json()
    return data["choices"][0]["message"]["content"]

SUPPORTED_MODELS = [
    {"id": "gpt-4o-mini", "name": "GPT-4o miniï¼ˆå¿«/ä¾¿å®œï¼‰", "provider": "openai"},
    {"id": "gpt-4.1-mini", "name": "GPT-4.1 miniï¼ˆæ›´å¼ºï¼‰", "provider": "openai"},
]

# ---------------------------
# Auth endpoints
# ---------------------------
@app.post("/api/register", response_model=AuthResp)
def register(req: AuthReq, db: Session = Depends(get_db)):
    if db.query(User).filter(User.email == req.email).first():
        raise HTTPException(status_code=400, detail="Email already registered")
    u = User(
        email=req.email,
        password_hash=pwd.hash(req.password),
        credits=DEFAULT_FREE_CREDITS,
        vip_level=0
    )
    db.add(u); db.commit()
    token = create_access_token(u.email)
    return AuthResp(token=token, credits=u.credits, vip_level=u.vip_level)

@app.post("/api/login", response_model=AuthResp)
def login(req: AuthReq, db: Session = Depends(get_db)):
    u = db.query(User).filter(User.email == req.email).first()
    if not u or not pwd.verify(req.password, u.password_hash):
        raise HTTPException(status_code=401, detail="Invalid credentials")
    token = create_access_token(u.email)
    return AuthResp(token=token, credits=u.credits, vip_level=u.vip_level)

@app.get("/api/me")
def me(db: Session = Depends(get_db), authorization: str = Header(default="")):
    u = get_current_user(db, authorization)
    return {"email": u.email, "credits": u.credits, "vip_level": u.vip_level}

@app.get("/api/models")
def list_models():
    return {"models": SUPPORTED_MODELS}

# ---------------------------
# Optional: keep your /api/chat endpoint
# ---------------------------
@app.post("/api/chat", response_model=ChatResp)
def chat(req: ChatReq, db: Session = Depends(get_db), authorization: str = Header(default="")):
    u = get_current_user(db, authorization)
    if u.credits <= 0:
        raise HTTPException(status_code=402, detail="No credits left. Please upgrade.")

    model_info = next((m for m in SUPPORTED_MODELS if m["id"] == req.model), None)
    if not model_info:
        raise HTTPException(status_code=400, detail="Unsupported model")

    if model_info["provider"] == "openai":
        reply = call_openai_chat(req.model, req.message)
    else:
        raise HTTPException(status_code=400, detail="Provider not implemented")

    cost = estimate_credits(req.message, reply)
    if u.credits - cost < 0:
        raise HTTPException(status_code=402, detail="Not enough credits for this request")

    u.credits -= cost
    db.add(ChatLog(user_id=u.id, model=req.model, prompt=req.message, response=reply, cost_credits=cost))
    db.commit()

    return ChatResp(model=req.model, reply=reply, cost_credits=cost, credits_left=u.credits)

# ==========================================================
# Templates - USER APIs
# ==========================================================

def user_can_access_template(user: User, tpl: Template) -> bool:
    return (user.vip_level >= tpl.vip_level) and (tpl.status == 1)

@app.get("/api/templates", response_model=list[TemplateListItem])
def list_templates(db: Session = Depends(get_db), authorization: str = Header(default="")):
    u = get_current_user(db, authorization)
    q = db.query(Template).filter(Template.status == 1).order_by(Template.sort_order.desc(), Template.id.desc())
    out = []
    for t in q.all():
        if u.vip_level < t.vip_level:
            continue
        input_schema = parse_json(t.input_schema, [])
        output_schema = parse_json(t.output_schema, None)
        out.append(TemplateListItem(
            template_key=t.template_key,
            title=t.title,
            category=t.category,
            description=t.description,
            input_schema=input_schema,
            output_schema=output_schema,
            credit_cost=t.credit_cost,
            vip_level=t.vip_level,
            status=t.status,
            sort_order=t.sort_order
        ))
    return out

@app.get("/api/templates/{template_key}", response_model=TemplateDetailResp)
def get_template(template_key: str, db: Session = Depends(get_db), authorization: str = Header(default="")):
    u = get_current_user(db, authorization)
    t = db.query(Template).filter(Template.template_key == template_key).first()
    if not t or t.status != 1:
        raise HTTPException(status_code=404, detail="Template not found")
    if u.vip_level < t.vip_level:
        raise HTTPException(status_code=403, detail="Template requires higher plan")
    return TemplateDetailResp(
        template_key=t.template_key,
        title=t.title,
        category=t.category,
        description=t.description,
        input_schema=parse_json(t.input_schema, []),
        output_schema=parse_json(t.output_schema, None),
        credit_cost=t.credit_cost,
        vip_level=t.vip_level,
        status=t.status
    )

@app.post("/api/templates/{template_key}/run", response_model=TemplateRunResp)
def run_template(template_key: str, req: TemplateRunReq, db: Session = Depends(get_db), authorization: str = Header(default="")):
    u = get_current_user(db, authorization)
    t = db.query(Template).filter(Template.template_key == template_key).first()
    if not t or t.status != 1:
        raise HTTPException(status_code=404, detail="Template not found")
    if u.vip_level < t.vip_level:
        raise HTTPException(status_code=403, detail="Template requires higher plan")
    if u.credits < t.credit_cost:
        raise HTTPException(status_code=402, detail="Not enough credits. Please upgrade/top up.")

    # Validate model
    model_info = next((m for m in SUPPORTED_MODELS if m["id"] == req.model_id), None)
    if not model_info:
        raise HTTPException(status_code=400, detail="Unsupported model")
    if model_info["provider"] != "openai":
        raise HTTPException(status_code=400, detail="Provider not implemented")

    input_schema = parse_json(t.input_schema, [])
    ok, err = validate_inputs_against_schema(input_schema, req.inputs)
    if not ok:
        raise HTTPException(status_code=400, detail=err)

    ok2, err2 = validate_prompt_vars(t.prompt, input_schema)
    if not ok2:
        # This is a config error: admin should fix schema/prompt
        raise HTTPException(status_code=500, detail=f"Template config error: {err2}")

    # Render prompt
    full_prompt = render_prompt(t.prompt, req.inputs)

    # Call model
    run_log = TemplateRun(
        user_id=u.id,
        template_key=t.template_key,
        model_id=req.model_id,
        input_json=json.dumps(req.inputs, ensure_ascii=False),
        output_text="",
        credits_cost=t.credit_cost,
        success=True,
        error_msg=""
    )
    try:
        output_text = call_openai_chat(req.model_id, full_prompt)
        run_log.output_text = output_text
    except Exception as e:
        run_log.success = False
        run_log.error_msg = str(e)[:250]
        db.add(run_log); db.commit()
        raise

    # Deduct credits & save logs
    u.credits -= t.credit_cost
    db.add(run_log)

    # conversion event (optional)
    db.add(ConversionEvent(
        user_id=u.id,
        event_type="run_template",
        template_key=t.template_key,
        meta=""
    ))
    db.commit()

    return TemplateRunResp(
        template_key=t.template_key,
        model_id=req.model_id,
        output_text=output_text,
        credits_cost=t.credit_cost,
        credits_left=u.credits
    )

# ==========================================================
# Templates - ADMIN APIs
# ==========================================================

@app.post("/api/admin/templates")
def admin_create_template(req: AdminTemplateUpsertReq, _=Depends(require_admin), db: Session = Depends(get_db)):
    # Validate schema JSON
    if not isinstance(req.input_schema, list) or len(req.input_schema) == 0:
        raise HTTPException(status_code=400, detail="input_schema must be a non-empty list")
    ok, err = validate_prompt_vars(req.prompt, req.input_schema)
    if not ok:
        raise HTTPException(status_code=400, detail=err)

    existing = db.query(Template).filter(Template.template_key == req.template_key).first()
    if existing:
        raise HTTPException(status_code=400, detail="template_key already exists")

    t = Template(
        template_key=req.template_key,
        title=req.title,
        category=req.category,
        description=req.description,
        prompt=req.prompt,
        input_schema=json.dumps(req.input_schema, ensure_ascii=False),
        output_schema=json.dumps(req.output_schema, ensure_ascii=False) if req.output_schema else "",
        credit_cost=req.credit_cost,
        vip_level=req.vip_level,
        daily_limit=req.daily_limit,
        status=req.status,
        sort_order=req.sort_order,
        created_at=datetime.utcnow(),
        updated_at=datetime.utcnow()
    )
    db.add(t); db.commit(); db.refresh(t)

    v = TemplateVersion(
        template_id=t.id,
        version=1,
        prompt=t.prompt,
        input_schema=t.input_schema,
        credit_cost=t.credit_cost,
        vip_level=t.vip_level,
        status=t.status,
        changelog=req.changelog or "init",
        created_by=None,
        created_at=datetime.utcnow()
    )
    db.add(v); db.commit()
    return {"ok": True, "template_id": t.id, "version": 1}

@app.put("/api/admin/templates/{template_key}")
def admin_update_template(template_key: str, req: AdminTemplateUpsertReq, _=Depends(require_admin), db: Session = Depends(get_db)):
    t = db.query(Template).filter(Template.template_key == template_key).first()
    if not t:
        raise HTTPException(status_code=404, detail="Template not found")

    if not isinstance(req.input_schema, list) or len(req.input_schema) == 0:
        raise HTTPException(status_code=400, detail="input_schema must be a non-empty list")
    ok, err = validate_prompt_vars(req.prompt, req.input_schema)
    if not ok:
        raise HTTPException(status_code=400, detail=err)

    # compute next version
    latest = db.query(TemplateVersion).filter(TemplateVersion.template_id == t.id).order_by(TemplateVersion.version.desc()).first()
    next_ver = 1 if not latest else latest.version + 1

    # update template
    t.title = req.title
    t.category = req.category
    t.description = req.description
    t.prompt = req.prompt
    t.input_schema = json.dumps(req.input_schema, ensure_ascii=False)
    t.output_schema = json.dumps(req.output_schema, ensure_ascii=False) if req.output_schema else ""
    t.credit_cost = req.credit_cost
    t.vip_level = req.vip_level
    t.daily_limit = req.daily_limit
    t.status = req.status
    t.sort_order = req.sort_order
    t.updated_at = datetime.utcnow()

    # version snapshot
    v = TemplateVersion(
        template_id=t.id,
        version=next_ver,
        prompt=t.prompt,
        input_schema=t.input_schema,
        credit_cost=t.credit_cost,
        vip_level=t.vip_level,
        status=t.status,
        changelog=req.changelog or "",
        created_by=None,
        created_at=datetime.utcnow()
    )
    db.add(v)
    db.commit()
    return {"ok": True, "template_id": t.id, "version": next_ver}

@app.post("/api/admin/templates/{template_key}/publish")
def admin_publish_template(template_key: str, req: AdminPublishReq, _=Depends(require_admin), db: Session = Depends(get_db)):
    t = db.query(Template).filter(Template.template_key == template_key).first()
    if not t:
        raise HTTPException(status_code=404, detail="Template not found")
    t.status = 1 if req.status == 1 else 0
    t.updated_at = datetime.utcnow()
    db.commit()
    return {"ok": True, "status": t.status}

@app.get("/api/admin/templates/{template_key}/versions")
def admin_list_versions(template_key: str, _=Depends(require_admin), db: Session = Depends(get_db)):
    t = db.query(Template).filter(Template.template_key == template_key).first()
    if not t:
        raise HTTPException(status_code=404, detail="Template not found")
    versions = db.query(TemplateVersion).filter(TemplateVersion.template_id == t.id).order_by(TemplateVersion.version.desc()).all()
    return {"template_key": template_key, "versions": [
        {"version": v.version, "changelog": v.changelog, "created_at": v.created_at.isoformat(), "status": v.status}
        for v in versions
    ]}

@app.post("/api/admin/templates/{template_key}/rollback")
def admin_rollback(template_key: str, req: AdminRollbackReq, _=Depends(require_admin), db: Session = Depends(get_db)):
    t = db.query(Template).filter(Template.template_key == template_key).first()
    if not t:
        raise HTTPException(status_code=404, detail="Template not found")
    v = db.query(TemplateVersion).filter(
        TemplateVersion.template_id == t.id,
        TemplateVersion.version == req.version
    ).first()
    if not v:
        raise HTTPException(status_code=404, detail="Version not found")

    # apply rollback
    t.prompt = v.prompt
    t.input_schema = v.input_schema
    t.credit_cost = v.credit_cost
    t.vip_level = v.vip_level
    t.status = v.status
    t.updated_at = datetime.utcnow()

    # new version snapshot noting rollback
    latest = db.query(TemplateVersion).filter(TemplateVersion.template_id == t.id).order_by(TemplateVersion.version.desc()).first()
    next_ver = 1 if not latest else latest.version + 1
    new_v = TemplateVersion(
        template_id=t.id,
        version=next_ver,
        prompt=t.prompt,
        input_schema=t.input_schema,
        credit_cost=t.credit_cost,
        vip_level=t.vip_level,
        status=t.status,
        changelog=f"rollback to v{req.version}",
        created_by=None,
        created_at=datetime.utcnow()
    )
    db.add(new_v)
    db.commit()
    return {"ok": True, "rolled_back_to": req.version, "new_version": next_ver}
```

### 6) åˆå§‹åŒ–ä¸€ä¸ªæ¨¡æ¿ï¼ˆç”¨ç®¡ç†ç«¯ APIï¼‰

#### ä¾‹ï¼šåˆ›å»ºã€ŒçŸ­è§†é¢‘å£æ’­è„šæœ¬ã€æ¨¡æ¿

è¯·æ±‚å¤´å¸¦ `X-Admin-Key: ä½ çš„ADMIN_KEY`

```bash
curl -X POST http://127.0.0.1:8000/api/admin/templates \
  -H "Content-Type: application/json" \
  -H "X-Admin-Key: CHANGE_ME_ADMIN_KEY" \
  -d '{
    "template_key":"short_video_script_v1",
    "title":"çŸ­è§†é¢‘å£æ’­è„šæœ¬",
    "category":"å†…å®¹åˆ›ä½œ",
    "description":"30-60ç§’å£æ’­è„šæœ¬ï¼Œå«é’©å­ä¸Žè¡ŒåŠ¨å·å¬",
    "prompt":"ã€SYSTEMã€‘ä½ æ˜¯ä¸€åæ‹¥æœ‰10å¹´ä»¥ä¸Šç»éªŒçš„çŸ­è§†é¢‘çˆ†æ¬¾ç¼–å¯¼ï¼Œç²¾é€šæŠ–éŸ³å’Œè§†é¢‘å·å¹³å°è§„åˆ™ã€‚\nã€TASKã€‘ç”Ÿæˆä¸€æ¡å¯ç›´æŽ¥æ‹æ‘„ã€å¯ç›´æŽ¥æœ—è¯»çš„çŸ­è§†é¢‘å£æ’­è„šæœ¬ã€‚\nã€INPUTã€‘- è§†é¢‘ä¸»é¢˜ï¼š{{topic}}\n- ç›®æ ‡äººç¾¤ï¼š{{audience}}\n- è¡¨è¾¾é£Žæ ¼ï¼š{{style}}\nã€RULEã€‘1. ç¦æ­¢è§£é‡Š 2. å£è¯­åŒ– 3. å¼€å¤´3ç§’å¼ºé’©å­ 4. ä¸å‡ºçŽ°ç»“æž„æç¤ºè¯ 5. ç»“å°¾æœ‰è¡ŒåŠ¨æŒ‡ä»¤\nã€OUTPUTã€‘ã€è§†é¢‘å®šä½ã€‘ä¸€å¥è¯è¯´æ˜Ž\nã€å®Œæ•´å£æ’­è„šæœ¬ã€‘ï¼ˆ30-60ç§’ï¼‰\nã€æ‹æ‘„å»ºè®®ã€‘- åœºæ™¯ - è¯­é€Ÿ - é•œå¤´",
    "input_schema":[
      {"key":"topic","label":"è§†é¢‘ä¸»é¢˜","type":"text","required":true},
      {"key":"audience","label":"ç›®æ ‡äººç¾¤","type":"text","required":true},
      {"key":"style","label":"é£Žæ ¼","type":"select","required":true,"options":["ä¸“ä¸š","æŽ¥åœ°æ°”","æ•…äº‹åŒ–"]}
    ],
    "credit_cost":2,
    "vip_level":0,
    "status":1,
    "sort_order":100,
    "changelog":"init"
  }'
```

### 7) éœ€è¦æ³¨æ„çš„ä¸¤ä¸ªâ€œç«‹åˆ»å¯å¢žå¼ºâ€çš„ç‚¹ï¼ˆä¸å½±å“éª¨æž¶è·‘é€šï¼‰

1. **daily_limit æœªå®žçŽ°**ï¼šçŽ°åœ¨éª¨æž¶é‡Œå­˜äº†å­—æ®µä½†æ²¡åšâ€œæŒ‰å¤©æ¬¡æ•°é™åˆ¶â€ã€‚è¦åŠ ä¹Ÿç®€å•ï¼šåœ¨ `run_template` é‡ŒæŒ‰å½“å¤©æ—¥æœŸç»Ÿè®¡ `TemplateRun` æ¬¡æ•°å³å¯ã€‚
2. **prompt ä¸å»ºè®®å­˜çº¯æ–‡æœ¬**ï¼šMVP æ²¡é—®é¢˜ï¼›è¦æ›´å®‰å…¨å¯åŠ å¯†å­˜å‚¨æˆ–è‡³å°‘åœ¨ç®¡ç†ç«¯è¿”å›žæ—¶ä¸å›žä¼  promptã€‚

### 8) éœ€å®Œå–„ FastAPI æ¨¡æ¿ç³»ç»Ÿéª¨æž¶çš„ä»¥ä¸‹åŠŸèƒ½

1. âœ… **daily_limitï¼ˆæ¯æ—¥æ¬¡æ•°é™åˆ¶ï¼‰**ï¼šæŒ‰â€œç”¨æˆ· + æ¨¡æ¿ + å½“å¤©â€é™åˆ¶è°ƒç”¨æ¬¡æ•°
2. âœ… **æ¨¡æ¿ä½¿ç”¨ç»Ÿè®¡ Top æ¦œ**ï¼šç®¡ç†ç«¯å’Œè¿è¥ç«¯éƒ½èƒ½çœ‹ï¼ˆ7å¤©/30å¤©ï¼‰
3. âœ… **æ¨¡æ¿â€œå…¬å…±å‰ç¼€â€æ‹¼æŽ¥æœºåˆ¶**ï¼šSYSTEM/RULE ç»Ÿä¸€ç®¡ç†ï¼Œè¿è¥åªç»´æŠ¤â€œå·®å¼‚æ®µâ€ï¼ˆæ¨¡æ¿ bodyï¼‰ï¼Œä¸€å¤„æ›´æ–°å…¨ç«™ç”Ÿæ•ˆã€‚è¿™æ ·ä»¥åŽè¿è¥åªç»´æŠ¤ `prompt_body`ï¼Œä½ æƒ³ç»Ÿä¸€é£Žæ ¼/è§„åˆ™ï¼Œåªæ”¹ PromptBaseã€‚
4. âœ… **run â†’ pay è½¬åŒ–æ˜¾ç¤º/æŽ¨ç†å½’å› æ¦œ**ï¼šå‘Šè¯‰ä½ â€œå“ªä¸ªæ¨¡æ¿æœ€ä¿ƒæˆä»˜è´¹â€ã€‚åœ¨ç”¨æˆ·ç«¯æ‰“å¼€â€œå‡çº§å¼¹çª—/å……å€¼é¡µâ€æ—¶ï¼Œå…ˆè®°å½• `event_type=view_paywall` å¹¶å¸¦ `template_key`ï¼Œæ”¯ä»˜æˆåŠŸåŽå†å…³è”è®¢å•ï¼Œè¿™æ ·å½’å› æ›´ç¨³å®šã€‚
5. âœ… **å¤±è´¥çŽ‡/å¼‚å¸¸æ¦œ**ï¼šå‘Šè¯‰ä½ â€œå“ªä¸ªæ¨¡æ¿æœ€å®¹æ˜“æŠ¥é”™/å¤±è´¥ï¼Œä¼˜å…ˆä¿®å“ªä¸ªâ€



- æ–°å¢žä¸€å¼ è¡¨ï¼š`ai_prompt_bases`ï¼ˆå…¬å…±å‰ç¼€ï¼šsystem_baseã€rules_base ç­‰ï¼‰

    ```
    class PromptBase(Base):
        __tablename__ = "ai_prompt_bases"
        id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)
        name: Mapped[str] = mapped_column(String(64), unique=True, index=True)  # e.g. "default"
        system_base: Mapped[str] = mapped_column(Text)  # shared SYSTEM
        rules_base: Mapped[str] = mapped_column(Text)   # shared RULES
        output_base: Mapped[str] = mapped_column(Text, default="")  # optional shared OUTPUT hints
        created_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)
        updated_at: Mapped[datetime] = mapped_column(DateTime, default=datetime.utcnow)
    ```

- æ¨¡æ¿è¡¨æ–°å¢žä¸€ä¸ªå­—æ®µï¼š`prompt_body`ï¼ˆåªå­˜å·®å¼‚æ®µï¼‰

    **åœ¨ Template è¡¨å¢žåŠ  `prompt_body`**

    ```python
    # åœ¨ Template ç±»é‡Œæ–°å¢žå­—æ®µï¼ˆä¿ç•™ prompt ä¹Ÿè¡Œï¼Œä½†å»ºè®®é€æ­¥å¼ƒç”¨ promptï¼‰
    prompt_body: Mapped[str] = mapped_column(Text, default="")  # NEW: only template-specific part
    ```

    > å»ºè®®ç­–ç•¥ï¼š
    >
    > - çŽ°åœ¨å…ˆä¿ç•™ `prompt` å­—æ®µå…¼å®¹æ—§æ¨¡æ¿
    > - æ–°æ¨¡æ¿åªç”¨ `prompt_body`
    > - è¿è¡Œæ—¶è‹¥ `prompt_body` ä¸ºç©ºï¼Œåˆ™ fallback ç”¨ `prompt`

- è°ƒç”¨æ¨¡æ¿æ—¶ï¼š`final_prompt = system_base + rules_base + prompt_body`ï¼ˆå¹¶æ”¯æŒå˜é‡æ›¿æ¢ï¼‰

- `daily_limit` ç”Ÿæ•ˆï¼šè¶…è¿‡æ¬¡æ•°ç›´æŽ¥ 429/400ï¼ˆæˆ‘ç”¨ 429 æ›´åˆç†ï¼‰

- æ–°å¢žç»Ÿè®¡ APIï¼š

    - `GET /api/admin/metrics/templates/top?days=7&metric=runs`ï¼ˆTop ä½¿ç”¨ï¼‰
    - `GET /api/admin/metrics/templates/top?days=7&metric=credits`ï¼ˆTop æ¶ˆè€—ï¼‰
    - `GET /api/admin/metrics/templates/top?days=7&metric=users`ï¼ˆTop ä½¿ç”¨äººæ•°ï¼‰

--------

## ä¸‰ã€å®‰å…¨ä¸Žé˜²æ³„éœ²ï¼ˆå¿…é¡»åšï¼‰

- **ç”¨æˆ·ç«¯æ°¸è¿œä¸ä¸‹å‘ prompt**
- prompt å­˜åº“å¯åšä¸¤å±‚ä¿æŠ¤ï¼š
    1. åªå…è®¸ admin API è¯»å–
    2. æ•°æ®åº“å±‚é¢åŠ å¯†ï¼ˆå¯é€‰ï¼‰
- ç®¡ç†ç«¯æ“ä½œæ—¥å¿—ï¼šè°æ”¹äº†å“ªä¸ªæ¨¡æ¿ã€ä½•æ—¶æ”¹çš„ã€æ”¹äº†ä»€ä¹ˆç‰ˆæœ¬
- æ¨¡æ¿ run æ—¥å¿—ä¸­æ•æ„Ÿ input å¯è„±æ•ï¼ˆå¦‚æ‰‹æœºå·ï¼‰

## å››ã€å·¥ä½œä»»åŠ¡

1. å…ˆæŠŠ**10ä¸ªé»„é‡‘æ¨¡æ¿**ä¸Šç«™ï¼ˆçŸ­è§†é¢‘/é”€å”®/èŒåœºä¸ºä¸»ï¼‰
2. åšåŽå°â€œæ¨¡æ¿æ–°å¢ž/ç¼–è¾‘/ä¸Šä¸‹çº¿/ç‰ˆæœ¬â€å››ä»¶å¥—ï¼ˆå…ˆåˆ«è´ªçœ‹æ¿ï¼‰
3. è·‘é€šï¼šæ¨¡æ¿â†’ç”¨æˆ·ç”¨â†’æ‰£è´¹â†’æ—¥å¿—
4. å†è¡¥é½å…¶ä½™40æ¨¡æ¿åˆ°åŽå°ï¼ˆå¤åˆ¶æ”¹å­—æ®µ+Promptï¼‰
5. æœ€åŽåšçœ‹æ¿å’Œè½¬åŒ–å½’å› ï¼ˆå®ƒå†³å®šä½ åŽç»­æ€Žä¹ˆå¢žé•¿ï¼‰